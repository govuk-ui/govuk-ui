{"version":3,"file":"Textarea-e73b857a.js","sources":["../../src/components/Textarea/Textarea.tsx"],"sourcesContent":["import React, {Children, cloneElement, isValidElement} from \"react\";\nimport TextareaProps from \"./Textarea.types\";\nimport ErrorMessage from \"../ErrorMessage\";\nimport FormGroup from \"../../layout/FormGroup\";\nimport Hint from \"../Hint\";\nimport Label from \"../Label\";\n\nexport const Textarea = ({\n  name,\n  id,\n  rows,\n  autocomplete,\n  spellcheck,\n  classes,\n  errorMessage,\n  attributes,\n  children,\n  prefix,\n  suffix,\n  describedBy,\n  value,\n}: TextareaProps) => {\n\n  if (!id && name) {\n    id = name;\n  } else if (!name && id) {\n    name = id;\n  }\n\n  let describedByValue = describedBy || '';\n  let errorMessageComponent;\n\n  if (errorMessage) {\n    const errorId = id ? `${id}-error` : '';\n    describedByValue += ` ${errorId}`;\n    errorMessageComponent = <ErrorMessage id={errorId}>{errorMessage}</ErrorMessage>;\n  }\n\n  const arrayChildren: any = Children.toArray(children);\n\n  const PrefixSuffixWrapper = ({children}: any) => {\n    if (prefix || suffix) {\n      return (\n        <>\n          <div className=\"govuk-input__wrapper\">\n            { prefix && (\n              <div className=\"govuk-input__prefix\">\n                {prefix}\n              </div>\n            )}\n            {children}\n            { suffix && (\n              <div className=\"govuk-input__suffix\">\n                {suffix}\n              </div>\n            )}\n          </div>\n        </>\n      )\n    }\n    else return children;\n  };\n\n  return (\n    <>\n      <FormGroup error={errorMessage}>\n      { Children.map(arrayChildren, (child:any, _index) => {\n          if (isValidElement(child) && (child.type === Label)) {\n            return (\n              <>\n                {\n                  cloneElement(child as React.ReactElement<any>, {\n                    htmlFor: id\n                  })\n                }\n              </>\n            );\n          }\n          if (isValidElement(child) && (child.type === Hint)) {\n            describedByValue += ` ${id}-hint`;\n            return (\n              <>\n                {\n                  cloneElement(child as React.ReactElement<any>, { id: `${id}-hint` })\n                }\n              </>\n            );\n          }\n        })}\n        {errorMessageComponent}\n        <PrefixSuffixWrapper>\n          <textarea\n            className={`govuk-textarea ${classes}`}\n            id={id}\n            name={name}\n            rows={rows || 5}\n            autoComplete={autocomplete}\n            spellCheck={spellcheck}\n            aria-describedby={describedByValue || ''}\n            defaultValue={value}\n            {...attributes}\n          />\n        </PrefixSuffixWrapper>\n      </FormGroup>\n    </>\n  );\n};\n\nexport default Textarea;\n"],"names":["Textarea","name","id","rows","autocomplete","spellcheck","classes","errorMessage","attributes","children","prefix","suffix","describedBy","value","describedByValue","errorMessageComponent","errorId","jsx","ErrorMessage","arrayChildren","Children","PrefixSuffixWrapper","children2","Fragment","jsxs","FormGroup","child","_index","isValidElement","Label","cloneElement","Hint"],"mappings":"8QAOO,MAAAA,EAAA,CAAA,CAAkB,KAAAC,EACvB,GAAAC,EACA,KAAAC,EACA,aAAAC,EACA,WAAAC,EACA,QAAAC,EACA,aAAAC,EACA,WAAAC,EACA,SAAAC,EACA,OAAAC,EACA,OAAAC,EACA,YAAAC,EACA,MAAAC,CAEF,IAAA,CAEE,CAAAX,GAAAD,EACEC,EAAAD,EAAK,CAAAA,GAAAC,IAELD,EAAAC,GAGF,IAAAY,EAAAF,GAAA,GACAG,EAEA,GAAAR,EAAA,CACE,MAAAS,EAAAd,EAAA,GAAAA,UAAA,GACAY,GAAA,IAAAE,IACAD,EAAAE,EAAAC,EAAA,CAAA,GAAAF,EAAA,SAAAT,CAAA,CAAA,CAAiE,CAGnE,MAAAY,EAAAC,EAAAA,SAAA,QAAAX,CAAA,EAEAY,EAAA,CAAA,CAAA,SAAAC,CAAA,IACEZ,GAAAC,EACEM,EAAAM,EAAA,CAAA,SAAAC,EAAA,MAAA,CAAA,UAAA,uBAAA,SAAA,CAGQd,GAAAO,EAAA,MAAA,CAAA,UAAA,sBAAA,SAAAP,EAAA,EAGAY,EAEDX,GAAAM,EAAA,MAAA,CAAA,UAAA,sBAAA,SAAAN,EAAA,CAIC,CAAA,CAAA,CAAA,CAAA,EAMLW,EAGP,OAAAL,EAAAM,EAAA,CAAA,SAAAC,EAAAC,EAAA,CAAA,MAAAlB,EAAA,SAAA,CAGMa,EAAAA,SAAA,IAAAD,EAAA,CAAAO,EAAAC,IAAA,CACE,GAAAC,EAAA,eAAAF,CAAA,GAAAA,EAAA,OAAAG,EACE,OAAAZ,EAAAM,EAAA,CAAA,SAAAO,EAAAA,aAAAJ,EAAA,CAGqD,QAAAxB,CACpC,CAAA,CAAA,CAAA,EAMnB,GAAA0B,EAAA,eAAAF,CAAA,GAAAA,EAAA,OAAAK,EACE,OAAAjB,GAAA,IAAAZ,SACAe,EAAAM,EAAA,CAAA,SAAAO,EAAA,aAAAJ,EAAA,CAAA,GAAA,GAAAxB,QAAA,CAAA,CAAA,CAAA,CAOF,CAAA,EACDa,EACAE,EAAAI,EAAA,CAAA,SAAAJ,EAEC,WAAC,CAAA,UAAA,kBAAAX,IAC8B,GAAAJ,EAC7B,KAAAD,EACA,KAAAE,GAAA,EACc,aAAAC,EACA,WAAAC,EACF,mBAAAS,GAAA,GAC0B,aAAAD,EACxB,GAAAL,CACV,CAAA,EAAA,CAER,CAAA,CAAA,CAAA,CAAA,CAIR"}