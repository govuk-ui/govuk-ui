import { Meta } from '@storybook/blocks';
import { Canvas, Story } from '@storybook/addon-docs';
import * as DateInputStories from './DateInput.stories';
import { Hint } from '../../../components';

<Meta title="Components/Date input" />

<Hint>Components</Hint>

# Date input

Use the date input component to help users enter a memorable date or one they can easily look up.

<Canvas>
  <Story of={DateInputStories.primary} />
</Canvas>

## When to use this component

Use the date input component when you’re asking users for a date they’ll already know, or can look up without using a calendar.

## When not to use this component

Do not use the date input component if users are unlikely to know the exact date of the event you’re asking about.

Read more about how to <a class="govuk-link" href="https://design-system.service.gov.uk/patterns/dates/">ask users for dates</a>.

## How it works

The date input component consists of 3 fields to let users enter a day, month and year.

The 3 date fields are grouped together in a `<fieldset>` with a `<legend>` that describes them, as shown in the examples on this page. This is usually a question, like ‘What is your date of birth?’.

If you’re asking <a class="govuk-link" href="https://design-system.service.gov.uk/patterns/question-pages/#start-by-asking-one-question-per-page">one question per page</a>, you can set the contents of the `<legend>` as the page heading. This is good practice as it means that users of screen readers will only hear the contents once.

Read more about <a class="govuk-link" href="https://design-system.service.gov.uk/get-started/labels-legends-headings/">why and how to set legends as headings</a>.

Make sure that any example dates you use in hint text are valid for the question being asked.

<Canvas>
  <Story of={DateInputStories.primary} />
</Canvas>

Never automatically tab users between the fields of the date input because this can be confusing and may clash with normal keyboard controls.

## If you’re asking more than one question on the page

If you’re asking more than one question on the page, do not set the contents of the `<legend>` as the page heading. Read more about <a class="govuk-link" href="https://design-system.service.gov.uk/patterns/question-pages/#asking-multiple-questions-on-a-page">asking multiple questions on question pages</a>.

<Canvas>
  <Story of={DateInputStories.twoQuestions} />
</Canvas>

## Use the autocomplete attribute for a date of birth

Use the `autocomplete` attribute on the date input component when you’re asking for a date of birth. This lets browsers autofill the information on a user’s behalf if they’ve entered it previously.

To do this, set the `autocomplete` attribute on the 3 fields to `bday-day`, `bday-month` and `bday-year`.

<Canvas>
  <Story of={DateInputStories.birthday} />
</Canvas>

If you are working in production you’ll need to do this to meet <a class="govuk-link" href="https://www.w3.org/WAI/WCAG21/Understanding/identify-input-purpose.html">WCAG 2.1 Level AA</a>.

You will not normally need to use the `autocomplete` attribute in prototypes, as users will not generally be using their own devices.

<Canvas>
  <Story of={DateInputStories.primary} />
</Canvas>

## Error messages

If you’re highlighting the whole date, style all the fields like this:

<Canvas>
  <Story of={DateInputStories.errorExample} />
</Canvas>